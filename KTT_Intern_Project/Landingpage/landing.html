<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="shortcut icon" href="../Final_Project/Login_Page/Images/ktt_logo.jpg" type="image/x-icon">
  <title>Sales Visit Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet"/>
  <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
  <link rel="stylesheet" href="landingpage.css">
</head>
<body>

  <script src="landingpage.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <nav class="headernav">
    <div><a href="#" style="font-weight: 900;">Calendar</a></div>
    <div><a href="#" id="visittable">Visits</a></div>
    <div><a href="#">Dashboard</a></div>
  </nav>

  <div class="main-content">

    <div class="calendar">
      <div class="calendar-header">
        <h2 style="display: inline-block; margin-left: 0%;">April 2025</h2>
        <span class="angelbrackets">
        <span>&lt</span>
        <span>&gt</span>
        </span>
      </div>
      <div class="calendar-grid">
        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>

        <div></div><div></div><div class="day">1</div><div class="day">2</div><div class="day">3</div><div class="day">4</div><div class="day">5</div>
        <div class="day">6</div><div class="day">7</div><div class="day">8</div><div class="day completed">9</div><div class="day">10</div><div class="day">11</div><div class="day cancelled">12</div>
        <div class="day">13</div><div class="day">14</div><div class="day">15</div><div class="day">16</div><div class="day pending">17</div><div class="day">18</div><div class="day">19</div>
        <div class="day">20</div><div class="day">21</div><div class="day">22</div><div class="day today">23</div><div class="day">24</div><div class="day">25</div><div class="day completed">26</div>
        <div class="day">27</div><div class="day">28</div><div class="day cancelled">29</div><div class="day">30</div><div></div>
      </div>
      <h3>Other Calendars</h3>
      <a href="#">Employee1</a>
      <a href="#">Employee2</a>
      <a href="#">Employee3</a>
    </div>

    <div class="week-view-container">
      <div class="week-header">
        <h3>Visit Timeline</h3>
        <div class="week-nav">
          <button>&lt; Previous</button>
          <button>Today</button>
          <button>Next &gt;</button>
        </div>
        <div class="date-range">April 20 - 26, 2025</div>
      </div>
      
      <div class="day-headers">
        <div class="day-header-cell"></div>
        <div class="day-header-cell">
          <div class="day-name">Sun</div>
          <div class="day-number">20</div>
        </div>
        <div class="day-header-cell">
          <div class="day-name">Mon</div>
          <div class="day-number">21</div>
        </div>
        <div class="day-header-cell">
          <div class="day-name">Tue</div>
          <div class="day-number">22</div>
        </div>
        <div class="day-header-cell">
          <div class="day-name">Wed</div>
          <div class="day-number today">23</div>
        </div>
        <div class="day-header-cell">
          <div class="day-name">Thu</div>
          <div class="day-number">24</div>
        </div>
        <div class="day-header-cell">
          <div class="day-name">Fri</div>
          <div class="day-number">25</div>
        </div>
        <div class="day-header-cell">
          <div class="day-name">Sat</div>
          <div class="day-number">26</div>
        </div>
      </div>
      
      <div class="time-grid-wrapper">
        <div class="time-grid">
          <div class="time-label">1 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 2 - Client B (1:10 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 2 - Client B (11:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          

          <div class="time-label">2 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">3 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event completed">Emp 1 - Client A (9:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"><div class="event completed">Emp 1 - Client A (9:00 AM)</div></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">4 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 1 - Client A (9:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="time-label">5 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 1 - Client A (9:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="time-label">6 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 1 - Client A (9:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="time-label">7 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 1 - Client A (9:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="time-label">8 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event completed">Emp 3 - Client D (10:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"><div class="event completed">Emp 3 - Client D (10:00 AM)</div></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="time-label">9 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 1 - Client A (9:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          
          <div class="time-label">10 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event completed">Emp 3 - Client D (10:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event completed">Emp 3 - Client F (10:00 AM)</div>
          </div>
          
          <div class="time-label">11 AM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event planned">Emp 2 - Client B (11:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"><div class="event in-progress">Emp 1 - Client C (2:00 PM)</div></div>
          <div class="grid-cell">
            <div class="event planned">Emp 2 - Client B (11:00 AM)</div>
          </div>
          <div class="grid-cell"></div>
          
          <div class="time-label">12 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          
          <div class="time-label">1 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event cancelled">Emp 2 - Client E (1:00 PM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          
          <div class="time-label">2 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event in-progress">Emp 1 - Client C (2:00 PM)</div>
          </div>
          <div class="grid-cell"></div>

          <div class="time-label">3 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">4 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell">
            <div class="event pending">Emp 3 - Client G (4:00 PM)</div>
          </div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">5 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">6 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">7 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">8 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">9 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>

          <div class="time-label">10 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          
          <div class="time-label">11 PM</div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="visit-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Schedule a Visit</h2>
        <span class="close-btn" onclick="closeModal()">&times;</span>
      </div>
      
      <form id="visit-form">
        <div class="form-section">
          <h3>Visit Details</h3>

          <div class="form-row">
            <div class="form-group">
              <label for="visit-date">Employee ID:</label>
              <input type="text" id="employeeid" placeholder="Enter your ID">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="visit-date">Assign to:</label>
              <select id="formemp" disabled>
                <option value="">611</option>
                <option value="">613</option>
                <option value="">615</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="visit-date">Date:</label>
              <input type="text" id="visit-date" name="visitDate" readonly>
            </div>
          </div>
          
          <div class="form-row time-selection">
            <div class="form-group">
              <label for="visit-time">Start Time:</label>
              <input type="text" id="visit-time" name="visitTime">
            </div>
          </div>
          
          <div class="form-group">
            <label for="client-name">Client Name:</label>
            <input type="text" id="client-name" name="clientName" placeholder="Enter client name" required>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="client-contact">Client Contact:</label>
              <input type="text" id="client-contact" name="clientContact" placeholder="Enter phone or email">
            </div>
            
            <div class="form-group">
              <label for="client-dept">Client Department:</label>
              <input type="text" id="client-dept" name="clientDepartment" placeholder="Enter department">
            </div>
          </div>
          
          <div class="form-group">
            <label for="visit-location">Location:</label>
            <input type="text" id="visit-location" name="visitLocation" placeholder="Enter meeting location" required>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="latitude">Latitude:</label>
              <input type="text" id="latitude" name="latitude" placeholder="Latitude" readonly>
            </div>
          
            <div class="form-group">
              <label for="longitude">Longitude:</label>
              <input type="text" id="longitude" name="longitude" placeholder="Longitude" readonly>
            </div>
          </div>
          
          <div class="form-group">
            <button type="button" onclick="openMapModal()" class="location-button">Choose Location on Map</button>
          </div>

          <div id="map-modal" class="fullscreen-map-modal">
            <div class="map-header">
              <h2>Select a Location</h2>
              <span class="close-btn" onclick="closeMapModal()">&times;</span>
            </div>
            <div id="map" class="map-container"></div>
          </div>
          
          <div class="form-row">
            <div class="form-row">
              <div class="form-group" id="status-completed">
                <label for="visit-status">Status:</label>
                <select id="visit-status" name="visitStatus">
                  <option value="planned">Planned</option>
                  <option value="Cancelled">Cancelled</option>
                  <option value="Completed">Completed</option>
                </select>
              </div>            
              
              <div class="form-group">
                <label for="visit-priority">Priority:</label>
                <select id="visit-priority" name="visitPriority">
                  <option value="low">Low</option>
                  <option value="medium" selected>Medium</option>
                  <option value="high">High</option>
                </select>
              </div>
            </div>
            
            <!-- Visit details section (initially hidden) -->
            <div id="visits-completed" style="display: none;">
              <label for="meeting-date">Visited Date:</label>
              <input type="date" placeholder="Enter the visited date" id="meeting-date">
              <label for="meeting-start-time">Meeting start time:</label>
              <input type="datetime-local" placeholder="Meeting start time" id="meeting-start-time">
              <label for="endtime">Meeting End time:</label>
              <input type="datetime-local" placeholder="Enter Meeting End time" id="endtime">
              
              <div class="form-group">
                <label for="visit-location">Location:</label>
                <input type="text" id="visit-location" name="visitLocation" placeholder="Enter meeting location" required>
              </div>
              
              <div class="form-group">
                <button type="button" onclick="openMapModal()">Get Current Location</button>
              </div>
            
              <div class="form-row">
                <div class="form-group">
                  <label for="latitude">Latitude:</label>
                  <input type="text" id="latitude" name="latitude" placeholder="Latitude" readonly>
                </div>
              
                <div class="form-group">
                  <label for="longitude">Longitude:</label>
                  <input type="text" id="longitude" name="longitude" placeholder="Longitude" readonly>
                </div>
              </div>
            </div>
            <div class="form-actions">
              <button type="button" class="cancel-btn" onclick="closeModal()">Cancel</button>
              <button type="button" class="save-btn" onclick="saveVisit()">Save Visit</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div id="notification-container"></div>

  <table border="1" id="mytable">
    <h2>Visits planned</h2>
    <thead>
      <tr>
        <th>Employee Email</th>
        <th>Company name</th>
        <th>Client name</th>
        <th>Client contact</th>
        <th>Client working department</th>
        <th>Data and time</th>
        <th>Loaction</th>
        <th>Purpose</th>
        <th>Meeting start time</th>
        <th>Meeting end time</th>
        <th>Notes</th>
        <th>Photos</th>
      </tr>
    </thead>
  </table>
</body>
</html>